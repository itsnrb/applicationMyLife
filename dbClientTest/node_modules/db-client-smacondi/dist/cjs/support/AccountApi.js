"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.AccountApi = void 0;
var _axios = _interopRequireDefault(require("axios"));
function _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }
// @ts-check

class AccountApi {
  /** @typedef {Object} AccountApiResponse
   * @property {string} _id - The unique identifier for the account.
   * @property {string} dbName - The database name of the account.
   * @property {string} clusterId - The cluster ID of the account.
   */
  constructor(apiUrl) {
    this.apiUrl = apiUrl;
  }

  /**
   * Get account details by ID
   * @param {string} accountId - The ID of the account to retrieve
   * @returns {Promise<AccountApiResponse>} The account details
   * @throws {Error} If the account ID is missing or the request fails
   */
  async getAccountById(accountId) {
    if (!accountId) {
      throw new Error('Account ID is required');
    }
    const response = await _axios.default.get(`${this.apiUrl}/${accountId}`);
    if (response.status !== 200 || !response.data) {
      throw new Error(`Failed to fetch account: ${response.statusText}`);
    }
    return response.data;
  }
}
exports.AccountApi = AccountApi;